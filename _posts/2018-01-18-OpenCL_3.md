---
layout: post
title: "OpenCL notes_3 data types and device memory"
description: "OpenCL notes_3 data types and device memory"
categories: [OpenCL]
tags: [parallel, OpenCL]
redirect_from:
  - /2018/01/18/
---

## 1. Kernel functions
The `clSetKernelArg` function sets argument for kernels, but there are no function that access a kernel's return value. This is because kernels don't have return values -- every kernel functions returns `void`
```
__kernel void func_name(args) {
    ...
}
```
A kernel function can only access and return data through its arguments, and if you attempt to compile a kernel without arguments, some compilers will give you an error. **all pointers passed to a kernel must be preceded by an address space qualifier.**
This tells the device what address space the argument should be stored in. `__global__, __constant__, __local, __private`
```
char msg[16];
cl_mem msg_buffer;
msg_buffer = clCreateBuffer(context, CL_MEM_WRITE_ONLY, sizeof(msg), NULL, &err);
clSetKernelArg(kernel, 0, sizeof(cl_mem), &msg_buffer);
```
After the kernel is enqueued and the device executes the function, the host application accesses the buffer data using `clEnqueueReadBuffer`.
```
clEnqueueReadBuffer(queue, msg_buffer, CL_TRUE, 0, sizeof(msg), &msg, 0, NULL, NULL);
```

## 2. Scalar data types
